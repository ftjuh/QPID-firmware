<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QPIDfirmware: Todo List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cupid_64p.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QPIDfirmware
   &#160;<span id="projectnumber">v0.1</span>
   </div>
   <div id="projectbrief">Object oriented firmware for autonomous motor drivers with encoder based PID controller and flexible interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('todo.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Todo List </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="reflist">
<dt>page <a class="el" href="index.html">QPID firmware - Autonomous PID and encoder controlled motor driver</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000001"></a>check private, protected, public for all classes </p>
<p class="enddd">check use of 'override' for all derived classes (because in c++ everything* that makes more fool proob is either optional or not available at all) </p>
</dd>
<dt>Class <a class="el" href="class_q_p_i_d___encoder.html">QPID_Encoder</a>  </dt>
<dd><a class="anchor" id="_todo000002"></a>Add derived base class for angular type encoders which takes care of the full turn wraparound/overflow problem.  </dd>
<dt>Class <a class="el" href="class_q_p_i_d___encoder___e_s_p32.html">QPID_Encoder_ESP32</a>  </dt>
<dd><a class="anchor" id="_todo000004"></a>check private, protected etc. for all derived classes  </dd>
<dt>File <a class="el" href="_q_p_i_d___encoder___e_s_p32_8h.html">QPID_Encoder_ESP32.h</a>  </dt>
<dd><a class="anchor" id="_todo000003"></a>Error handling if encoder not attached?  </dd>
<dt>Class <a class="el" href="class_q_p_i_d___encoder___quadrature_state_machine.html">QPID_Encoder_QuadratureStateMachine</a>  </dt>
<dd><a class="anchor" id="_todo000006"></a>check private, protected etc. for all derived classes  </dd>
<dt>File <a class="el" href="_q_p_i_d___encoder___quadrature_state_machine_8h.html">QPID_Encoder_QuadratureStateMachine.h</a>  </dt>
<dd><a class="anchor" id="_todo000005"></a>Error handling if encoder not attached?  </dd>
<dt>Class <a class="el" href="class_q_p_i_d___endstop___digital.html">QPID_Endstop_Digital</a>  </dt>
<dd><a class="anchor" id="_todo000007"></a>check private, protected etc. for all dervide classes  </dd>
<dt>Class <a class="el" href="class_q_p_i_d___endstop___pin_shared_analog.html">QPID_Endstop_PinSharedAnalog</a>  </dt>
<dd><a class="anchor" id="_todo000009"></a>check private, protected etc. for all dervide classes  </dd>
<dt>Member <a class="el" href="class_q_p_i_d___endstop___pin_shared_analog.html#afef50d48fee302eb1df2fdb287ce2f8d">QPID_Endstop_PinSharedAnalog::isOn</a>  ()</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000008"></a>AD converters need short pauses between readings on Arduinos. We could use a timer to recycle very fresh readings. </p>
<p class="enddd">Also, two endstops sharing the same pin don't know from each other, which complicates the possible problem. Needs testing to see if this actually could lead to errors. A possible solution could be based on semaphores or something like that.  </p>
</dd>
<dt>Class <a class="el" href="class_q_p_i_d___motor_driver.html">QPID_MotorDriver</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000010"></a>Initially developed with only DC motors in mind (PWM, frequency, decay etc.). I'd be better to have an even more generic class and derive QPID_DC_MotorDriver and QPID_Stepper_MotorDriver classes </p>
<p class="interdd">(done) document abstract methods as implementation guide for derived classes. For now, look at sample DRV8833 class </p>
<p class="enddd">(done) add fault signaling  </p>
</dd>
<dt>Class <a class="el" href="class_q_p_i_d___motor_driver___adafruit_motor_shield_v2.html">QPID_MotorDriver_AdafruitMotorShieldV2</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000011"></a>mostly untested yet. </p>
<p class="interdd">Access to the master I2C bus should be regulated, in case other subsystems use I2C too (e.g. endstops on an I2C extender). So, for the moment, watch out for possible problems yourself. </p>
<p class="enddd">(done?) Can only use the system's default I2C bus (Wire). The library supports providing your own Wire interfaces which would make it possible to use an alternate bus, e.g. if the default bis is used for slave access to the device.  </p>
</dd>
<dt>Class <a class="el" href="class_q_p_i_d___object.html">QPID_Object</a>  </dt>
<dd><a class="anchor" id="_todo000014"></a>(done by eliminating typeid()) Having to editing platform.txt sucks. Find a better way or eliminate typeid(). </dd>
<dt>Member <a class="el" href="class_q_p_i_d___object.html#af8f886d050464d824933977f15f39f58">QPID_Object::log</a>  (const char *logEntry)</dt>
<dd><a class="anchor" id="_todo000013"></a>implement smarter logging  </dd>
<dt>Member <a class="el" href="class_q_p_i_d___object.html#ab7914c48c69bc8f2a1a536ea0882fe71">QPID_Object::throwError</a>  (const char *invokedBy, const char *errorMessage)</dt>
<dd><a class="anchor" id="_todo000012"></a>implement smarter error messaging  </dd>
<dt>Class <a class="el" href="class_q_p_i_d___unit.html">QPID_Unit</a>  </dt>
<dd><a class="anchor" id="_todo000021"></a>implement acceleration/deceleration ramps as an alternative to PID control  </dd>
<dt>Member <a class="el" href="class_q_p_i_d___unit.html#af7573a741c282636e0339410e9956f4a">QPID_Unit::calibrate</a>  (bool findEndstops, bool findMaxSpeed, bool findDeadbands, bool findAccelerationCurve)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000020"></a>Not implemented yet. </p>
<p class="interdd">Where are these values saved? </p>
<p class="enddd">Make options an enum insteat of booleans?  </p>
</dd>
<dt>Member <a class="el" href="class_q_p_i_d___unit.html#af7df449da99c44e18c75f57054c6bb6b">QPID_Unit::init</a>  (<a class="el" href="class_q_p_i_d___motor_driver.html" title="Mostly abstract class that defines access methods and features for generic motors,...">QPID_MotorDriver</a> *d, <a class="el" href="class_q_p_i_d___encoder.html" title="Mostly abstract class for any kind of rotary encoder with optional filtering for jittery or error pro...">QPID_Encoder</a> *e, <a class="el" href="class_q_p_i_d___endstop.html" title="Abstract class for any kind of endstop switch.">QPID_Endstop</a> *es1, <a class="el" href="class_q_p_i_d___endstop.html" title="Abstract class for any kind of endstop switch.">QPID_Endstop</a> *es2, unsigned long cycleInterval)</dt>
<dd><a class="anchor" id="_todo000015"></a>how to reverse? Change polarization of encoder or motor; by software: implement PID.SetControllerDirection()  </dd>
<dt>Member <a class="el" href="class_q_p_i_d___unit.html#a60f0940dfad98d9e07e087f41e85add1">QPID_Unit::runAtSpeed</a>  (double speed)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000017"></a>At the moment, no checks are implemented for valid positions, configured PIDs etc. </p>
<p class="enddd">Implement endstops!!!  </p>
</dd>
<dt>Member <a class="el" href="class_q_p_i_d___unit.html#aaecbaf6967a11b84dbfc0fd957b0658f">QPID_Unit::runAtSpeedFor</a>  (double speed, unsigned long duration, stopMode mode)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000019"></a>(partly done) At the moment, no checks are implemented for valid positions, configured PIDs etc. </p>
<p class="enddd">(done) Implement endstops!!!  </p>
</dd>
<dt>Member <a class="el" href="class_q_p_i_d___unit.html#a0bdc1b6fd295be57c9cb6ffccb981a83">QPID_Unit::runAtSpeedUntil</a>  (double speed, unsigned long timeout, stopMode mode)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000018"></a>At the moment, no checks are implemented for valid positions, configured PIDs etc. </p>
<p class="enddd">Implement endstops!!!  </p>
</dd>
<dt>Member <a class="el" href="class_q_p_i_d___unit.html#a63fdc4e4df623265871fb62f99bc6990">QPID_Unit::runTo</a>  (double target)</dt>
<dd><a class="anchor" id="_todo000016"></a>(partly done) At the moment, no checks are implemented for <del>valid positions</del>, configured PIDs etc. </dd>
</dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun May 23 2021 20:20:20 for QPIDfirmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
