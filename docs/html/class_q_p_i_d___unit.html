<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QPIDfirmware: QPID_Unit Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cupid_64p.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QPIDfirmware
   &#160;<span id="projectnumber">v0.1</span>
   </div>
   <div id="projectbrief">Object oriented firmware for autonomous motor drivers with encoder based PID controller and flexible interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_q_p_i_d___unit.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_q_p_i_d___unit-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QPID_Unit Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a> objects bundles access to three hardware components, a motor driver, an position encoder, and end stop switches. Softwarewise it represents an advanced motor contoller that can autonomously perform various control tasks.  
 <a href="class_q_p_i_d___unit.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_q_p_i_d___unit_8h_source.html">QPID_Unit.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for QPID_Unit:</div>
<div class="dyncontent">
<div class="center"><img src="class_q_p_i_d___unit__inherit__graph.png" border="0" usemap="#_q_p_i_d___unit_inherit__map" alt="Inheritance graph"/></div>
<map name="_q_p_i_d___unit_inherit__map" id="_q_p_i_d___unit_inherit__map">
<area shape="rect" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,..." alt="" coords="12,80,99,107"/>
<area shape="rect" href="class_q_p_i_d___object.html" title="Base class for all QPID classes. Establishes interface for message processing and provides error repo..." alt="" coords="5,5,105,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ada7b31c4261c3df9fe96f2d090341076"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076">QPIDStates</a> { <br />
&#160;&#160;<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a4f5f8a9edc96ab927e43817a126c06b3">runningToTarget</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a49b68bf63ca920ec1a2e89477a2ee4eb">targetReached</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a16f158acf096e86c36abab106903a903">constantSpeed</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a5477963f71cd005822f97c48e916574b">constantSpeedUntil</a>, 
<br />
&#160;&#160;<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a7b13dfbf10901dc4dacb855668470bda">constantSpeedTo</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a242985d0ec20bf9ef8cebaacf9b78bfd">timeoutReached</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a7eae58e2350338f95361ae7d7ee0a2c2">stoppedByEndStop</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a3103a85901205f1a5e5f692a56da5b26">stoppedByPositionLimit</a>, 
<br />
&#160;&#160;<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076afa4f973c940625b75a6a44e81bef7f14">toEndStop</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076aa9e1f8b9834f492ff8cc5fe1afa110c5">endStopReached</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076ab830197e590b8db02e9ad745c511fd64">calibrating</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076ad97f32407e49f429c52c3e5b811263dd">off</a>, 
<br />
&#160;&#160;<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a5a9858054aa5994cf936a65f0620e637">stopped</a>, 
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076a454b0da016bdc607c3d4992d53be8094">haltedOnError</a>
<br />
 }</td></tr>
<tr class="memdesc:ada7b31c4261c3df9fe96f2d090341076"><td class="mdescLeft">&#160;</td><td class="mdescRight">Symbolic names for <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a> states that determine a <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a>'s behavior. The state machine depicted belwo should give a rough idea, but still needs refinement.  <a href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076">More...</a><br /></td></tr>
<tr class="separator:ada7b31c4261c3df9fe96f2d090341076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c6dd6dd1b2d41a5827c7715caaae881"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">stopMode</a> { <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881a7b94617328a73395daf3ac31b3b68990">brake</a>, 
<a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881a004244e4b26a4206e3a3b992dc3929d3">coast</a>, 
<a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881a5ef2e183369f73456a4195ccfdb1124f">PIDcontrolled</a>
 }</td></tr>
<tr class="memdesc:a8c6dd6dd1b2d41a5827c7715caaae881"><td class="mdescLeft">&#160;</td><td class="mdescRight">Symbolic names for way to stop system in states with timeout.  <a href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">More...</a><br /></td></tr>
<tr class="separator:a8c6dd6dd1b2d41a5827c7715caaae881"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1634119eb34aa8ae30b730aa738eee3a"><td class="memItemLeft" align="right" valign="top"><a id="a1634119eb34aa8ae30b730aa738eee3a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a1634119eb34aa8ae30b730aa738eee3a">QPID_Unit</a> ()</td></tr>
<tr class="memdesc:a1634119eb34aa8ae30b730aa738eee3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br /></td></tr>
<tr class="separator:a1634119eb34aa8ae30b730aa738eee3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0103b90a43df7d0153494b13694090c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#af0103b90a43df7d0153494b13694090c">processMessage</a> (uint8_t *m) override</td></tr>
<tr class="memdesc:af0103b90a43df7d0153494b13694090c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interprets messages specific for this class.  <a href="class_q_p_i_d___unit.html#af0103b90a43df7d0153494b13694090c">More...</a><br /></td></tr>
<tr class="separator:af0103b90a43df7d0153494b13694090c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7df449da99c44e18c75f57054c6bb6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#af7df449da99c44e18c75f57054c6bb6b">init</a> (<a class="el" href="class_q_p_i_d___motor_driver.html">QPID_MotorDriver</a> *d, <a class="el" href="class_q_p_i_d___encoder.html">QPID_Encoder</a> *e, <a class="el" href="class_q_p_i_d___endstop.html">QPID_Endstop</a> *es1, <a class="el" href="class_q_p_i_d___endstop.html">QPID_Endstop</a> *es2, unsigned long cycleInterval)</td></tr>
<tr class="memdesc:af7df449da99c44e18c75f57054c6bb6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches the neccessary and optional hardware. Motor driver and encoder are a must, one or two endstops are optional. In setups with only one endstop, you <em>must</em> setup it as es1. Should this not fit the directional setup (es1 is expected to be at a low encoder position, i.e. to be reached by negative motor movement) reverse your setup accordingly.  <a href="class_q_p_i_d___unit.html#af7df449da99c44e18c75f57054c6bb6b">More...</a><br /></td></tr>
<tr class="separator:af7df449da99c44e18c75f57054c6bb6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816e55daefaebd6d4fbd16a4c10b9032"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a816e55daefaebd6d4fbd16a4c10b9032">configureSpeedPID</a> (double Kp, double Ki, double Kd, int POn=P_ON_E)</td></tr>
<tr class="memdesc:a816e55daefaebd6d4fbd16a4c10b9032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set tuning parameters for speed PID.  <a href="class_q_p_i_d___unit.html#a816e55daefaebd6d4fbd16a4c10b9032">More...</a><br /></td></tr>
<tr class="separator:a816e55daefaebd6d4fbd16a4c10b9032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e525da8a103938555042db78d20ca5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a9e525da8a103938555042db78d20ca5a">configurePowerPID</a> (double Kp, double Ki, double Kd, int POn=P_ON_E)</td></tr>
<tr class="memdesc:a9e525da8a103938555042db78d20ca5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set tuning parameters for power PID.  <a href="class_q_p_i_d___unit.html#a9e525da8a103938555042db78d20ca5a">More...</a><br /></td></tr>
<tr class="separator:a9e525da8a103938555042db78d20ca5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4236d08d0eac854b883aecac41a19f6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a4236d08d0eac854b883aecac41a19f6b">configurePositionLimits</a> (double min, double max)</td></tr>
<tr class="memdesc:a4236d08d0eac854b883aecac41a19f6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set position limits and enable position checking if both values are different, disable if both are the same.  <a href="class_q_p_i_d___unit.html#a4236d08d0eac854b883aecac41a19f6b">More...</a><br /></td></tr>
<tr class="separator:a4236d08d0eac854b883aecac41a19f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62822c0086bd5c0cba47c23850d04869"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a62822c0086bd5c0cba47c23850d04869">configureSpeedLimits</a> (double min, double max)</td></tr>
<tr class="memdesc:a62822c0086bd5c0cba47c23850d04869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set speed limits. Will be used to limit the speedPID's output, which is fed into the powerPID.  <a href="class_q_p_i_d___unit.html#a62822c0086bd5c0cba47c23850d04869">More...</a><br /></td></tr>
<tr class="separator:a62822c0086bd5c0cba47c23850d04869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3add6e817c50b414d2973464f7651736"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a3add6e817c50b414d2973464f7651736">configurePowerLimits</a> (double min, double max)</td></tr>
<tr class="memdesc:a3add6e817c50b414d2973464f7651736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set power limits. Will be used to limit the powerPID's output, which is fed into the motor driver.  <a href="class_q_p_i_d___unit.html#a3add6e817c50b414d2973464f7651736">More...</a><br /></td></tr>
<tr class="separator:a3add6e817c50b414d2973464f7651736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3906de3352775659e02f73184b1a07a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#aa3906de3352775659e02f73184b1a07a">configureTolerances</a> (double pos, double speed)</td></tr>
<tr class="memdesc:aa3906de3352775659e02f73184b1a07a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set tolerances used in <a class="el" href="class_q_p_i_d___unit.html#a63fdc4e4df623265871fb62f99bc6990" title="Make motor run to target position.">runTo()</a> to determine if a positional target has been reached.  <a href="class_q_p_i_d___unit.html#aa3906de3352775659e02f73184b1a07a">More...</a><br /></td></tr>
<tr class="separator:aa3906de3352775659e02f73184b1a07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63fdc4e4df623265871fb62f99bc6990"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a63fdc4e4df623265871fb62f99bc6990">runTo</a> (double target)</td></tr>
<tr class="memdesc:a63fdc4e4df623265871fb62f99bc6990"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make motor run to target position.  <a href="class_q_p_i_d___unit.html#a63fdc4e4df623265871fb62f99bc6990">More...</a><br /></td></tr>
<tr class="separator:a63fdc4e4df623265871fb62f99bc6990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9cb82de6e7e69a834002948a1e66107"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#ab9cb82de6e7e69a834002948a1e66107">runDistance</a> (double distance)</td></tr>
<tr class="memdesc:ab9cb82de6e7e69a834002948a1e66107"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make motor run a given distance.  <a href="class_q_p_i_d___unit.html#ab9cb82de6e7e69a834002948a1e66107">More...</a><br /></td></tr>
<tr class="separator:ab9cb82de6e7e69a834002948a1e66107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f0940dfad98d9e07e087f41e85add1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a60f0940dfad98d9e07e087f41e85add1">runAtSpeed</a> (double speed)</td></tr>
<tr class="memdesc:a60f0940dfad98d9e07e087f41e85add1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make motor run at constant speed until told otherwise. Uses only power PID for control, as the speed is fixed. PID control should take care of acceleration at the beginning. <a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6" title="Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible,...">QPID_Unit::update()</a> needs to be called repeatedly as often as possible to actually move the system.  <a href="class_q_p_i_d___unit.html#a60f0940dfad98d9e07e087f41e85add1">More...</a><br /></td></tr>
<tr class="separator:a60f0940dfad98d9e07e087f41e85add1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bdc1b6fd295be57c9cb6ffccb981a83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a0bdc1b6fd295be57c9cb6ffccb981a83">runAtSpeedUntil</a> (double speed, unsigned long timeout, <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">stopMode</a> mode)</td></tr>
<tr class="memdesc:a0bdc1b6fd295be57c9cb6ffccb981a83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make motor run at constant speed until given timeout is reached. Uses only power PID for control, as the speed is fixed. PID control should take care of acceleration at the beginning. <a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6" title="Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible,...">QPID_Unit::update()</a> needs to be called repeatedly as often as possible to actually move the system.  <a href="class_q_p_i_d___unit.html#a0bdc1b6fd295be57c9cb6ffccb981a83">More...</a><br /></td></tr>
<tr class="separator:a0bdc1b6fd295be57c9cb6ffccb981a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaecbaf6967a11b84dbfc0fd957b0658f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#aaecbaf6967a11b84dbfc0fd957b0658f">runAtSpeedFor</a> (double speed, unsigned long duration, <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">stopMode</a> mode)</td></tr>
<tr class="memdesc:aaecbaf6967a11b84dbfc0fd957b0658f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make motor run at constant speed for a given number of millis. Uses only power PID for control, as the speed is fixed. PID control should take care of acceleration at the beginning. <a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6" title="Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible,...">QPID_Unit::update()</a> needs to be called repeatedly as often as possible to actually move the system.  <a href="class_q_p_i_d___unit.html#aaecbaf6967a11b84dbfc0fd957b0658f">More...</a><br /></td></tr>
<tr class="separator:aaecbaf6967a11b84dbfc0fd957b0658f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b7e0a8a5eceabf863041fea844f4488"><td class="memItemLeft" align="right" valign="top"><a id="a8b7e0a8a5eceabf863041fea844f4488"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>runAtSpeedTo</b> (double speed, double target, <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">stopMode</a> mode)</td></tr>
<tr class="separator:a8b7e0a8a5eceabf863041fea844f4488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf3245b918742b900fbafd3da38ef6f"><td class="memItemLeft" align="right" valign="top"><a id="accf3245b918742b900fbafd3da38ef6f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>runAtSpeedDistance</b> (double speed, double distance, <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">stopMode</a> mode)</td></tr>
<tr class="separator:accf3245b918742b900fbafd3da38ef6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7573a741c282636e0339410e9956f4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#af7573a741c282636e0339410e9956f4a">calibrate</a> (bool findEndstops, bool findMaxSpeed, bool findDeadbands, bool findAccelerationCurve)</td></tr>
<tr class="memdesc:af7573a741c282636e0339410e9956f4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do a test run to find system specific parameters.  <a href="class_q_p_i_d___unit.html#af7573a741c282636e0339410e9956f4a">More...</a><br /></td></tr>
<tr class="separator:af7573a741c282636e0339410e9956f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64f023003ad54493aaaf5473f40f0da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#aa64f023003ad54493aaaf5473f40f0da">setKick</a> (double threshold, double thresholdSpeed)</td></tr>
<tr class="memdesc:aa64f023003ad54493aaaf5473f40f0da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Due to inertia and friction, DC motors don't start to run at very low speeds, they need a "kick" to get going. After that they'll continue to run even at lower speeds. By setting a kick treshold bigger than 0, power to the motor will be increased to this threshold, if <em>all</em> of the following conditions are met:  <a href="class_q_p_i_d___unit.html#aa64f023003ad54493aaaf5473f40f0da">More...</a><br /></td></tr>
<tr class="separator:aa64f023003ad54493aaaf5473f40f0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7c97636db19a4a9f36027f5b269ae6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a2c7c97636db19a4a9f36027f5b269ae6">disableKick</a> ()</td></tr>
<tr class="memdesc:a2c7c97636db19a4a9f36027f5b269ae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables kicking.  <a href="class_q_p_i_d___unit.html#a2c7c97636db19a4a9f36027f5b269ae6">More...</a><br /></td></tr>
<tr class="separator:a2c7c97636db19a4a9f36027f5b269ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928c69b8ab138c720d8fd33b6bfc29f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076">QPIDStates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a928c69b8ab138c720d8fd33b6bfc29f8">getState</a> ()</td></tr>
<tr class="memdesc:a928c69b8ab138c720d8fd33b6bfc29f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current state.  <a href="class_q_p_i_d___unit.html#a928c69b8ab138c720d8fd33b6bfc29f8">More...</a><br /></td></tr>
<tr class="separator:a928c69b8ab138c720d8fd33b6bfc29f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbecce3e6e4cd2203613241b83284e6"><td class="memItemLeft" align="right" valign="top"><a id="aadbecce3e6e4cd2203613241b83284e6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6">update</a> () override</td></tr>
<tr class="memdesc:aadbecce3e6e4cd2203613241b83284e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible, particularly with encoders which are not hardware or interrupt driven, and for angular encoders, as the overflow wraparound implementation could fail otherwise. <br /></td></tr>
<tr class="separator:aadbecce3e6e4cd2203613241b83284e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b08555770c093fcd072391d2e2dfbf"><td class="memItemLeft" align="right" valign="top"><a id="a94b08555770c093fcd072391d2e2dfbf"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>kicked</b> (double power)</td></tr>
<tr class="separator:a94b08555770c093fcd072391d2e2dfbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a5aec75122e7534a3b06c107bb574e"><td class="memItemLeft" align="right" valign="top"><a id="a03a5aec75122e7534a3b06c107bb574e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a03a5aec75122e7534a3b06c107bb574e">outOfBounds</a> ()</td></tr>
<tr class="memdesc:a03a5aec75122e7534a3b06c107bb574e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks hardware endstops. Also checks virtual endstops, if enabled by setPositionLimits(). Brakes and sets state accordingly if one is reached. <br /></td></tr>
<tr class="separator:a03a5aec75122e7534a3b06c107bb574e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_q_p_i_d___object"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_q_p_i_d___object')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_q_p_i_d___object.html">QPID_Object</a></td></tr>
<tr class="memitem:ab7914c48c69bc8f2a1a536ea0882fe71 inherit pub_methods_class_q_p_i_d___object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___object.html#ab7914c48c69bc8f2a1a536ea0882fe71">throwError</a> (const char *invokedBy, const char *errorMessage)</td></tr>
<tr class="memdesc:ab7914c48c69bc8f2a1a536ea0882fe71 inherit pub_methods_class_q_p_i_d___object"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes error message and error invoking class to Serial.  <a href="class_q_p_i_d___object.html#ab7914c48c69bc8f2a1a536ea0882fe71">More...</a><br /></td></tr>
<tr class="separator:ab7914c48c69bc8f2a1a536ea0882fe71 inherit pub_methods_class_q_p_i_d___object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f886d050464d824933977f15f39f58 inherit pub_methods_class_q_p_i_d___object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___object.html#af8f886d050464d824933977f15f39f58">log</a> (const char *logEntry)</td></tr>
<tr class="memdesc:af8f886d050464d824933977f15f39f58 inherit pub_methods_class_q_p_i_d___object"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts timestamped string into the system log (atm: writes it out to Serial).  <a href="class_q_p_i_d___object.html#af8f886d050464d824933977f15f39f58">More...</a><br /></td></tr>
<tr class="separator:af8f886d050464d824933977f15f39f58 inherit pub_methods_class_q_p_i_d___object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9234d05198cde0cb6fea6b79eac6da1c"><td class="memItemLeft" align="right" valign="top"><a id="a9234d05198cde0cb6fea6b79eac6da1c"></a>
<a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076">QPIDStates</a>&#160;</td><td class="memItemRight" valign="bottom"><b>state</b></td></tr>
<tr class="separator:a9234d05198cde0cb6fea6b79eac6da1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7247b33eafea2c55a57aedfa11a14b4c"><td class="memItemLeft" align="right" valign="top"><a id="a7247b33eafea2c55a57aedfa11a14b4c"></a>
<a class="el" href="class_q_p_i_d___motor_driver.html">QPID_MotorDriver</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>driver</b></td></tr>
<tr class="separator:a7247b33eafea2c55a57aedfa11a14b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a6109579cd16d4364820a63f1c0823"><td class="memItemLeft" align="right" valign="top"><a id="a29a6109579cd16d4364820a63f1c0823"></a>
<a class="el" href="class_q_p_i_d___encoder.html">QPID_Encoder</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>encoder</b></td></tr>
<tr class="separator:a29a6109579cd16d4364820a63f1c0823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bd21d23dd53b1f3717b0f99b52802d"><td class="memItemLeft" align="right" valign="top"><a id="a56bd21d23dd53b1f3717b0f99b52802d"></a>
<a class="el" href="class_q_p_i_d___endstop.html">QPID_Endstop</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>endstop1</b></td></tr>
<tr class="separator:a56bd21d23dd53b1f3717b0f99b52802d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e06ce074770352af7ad359e400038cc"><td class="memItemLeft" align="right" valign="top"><a id="a1e06ce074770352af7ad359e400038cc"></a>
<a class="el" href="class_q_p_i_d___endstop.html">QPID_Endstop</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>endstop2</b></td></tr>
<tr class="separator:a1e06ce074770352af7ad359e400038cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c9a0f22100c049d6098da21b2f5d88"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#a44c9a0f22100c049d6098da21b2f5d88">kickThreshold</a></td></tr>
<tr class="memdesc:a44c9a0f22100c049d6098da21b2f5d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum power to get the motor going from stopped position.  <a href="class_q_p_i_d___unit.html#a44c9a0f22100c049d6098da21b2f5d88">More...</a><br /></td></tr>
<tr class="separator:a44c9a0f22100c049d6098da21b2f5d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c20357a541493928841e990ad8c72c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___unit.html#ac2c20357a541493928841e990ad8c72c">kickThresholdSpeed</a></td></tr>
<tr class="memdesc:ac2c20357a541493928841e990ad8c72c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Speeds lower than or equal to this value will be considered as stopped motor that needs a kick at lower speeds. Start with 0 and increase if needed.  <a href="class_q_p_i_d___unit.html#ac2c20357a541493928841e990ad8c72c">More...</a><br /></td></tr>
<tr class="separator:ac2c20357a541493928841e990ad8c72c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c92b2244a11e98a9f406f6bd25b874d"><td class="memItemLeft" align="right" valign="top"><a id="a8c92b2244a11e98a9f406f6bd25b874d"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>nextCycle</b></td></tr>
<tr class="separator:a8c92b2244a11e98a9f406f6bd25b874d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39813e3645638a0eb27e1be0ee176f29"><td class="memItemLeft" align="right" valign="top"><a id="a39813e3645638a0eb27e1be0ee176f29"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>nextStatistics</b></td></tr>
<tr class="separator:a39813e3645638a0eb27e1be0ee176f29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf95d0d61c2aa5fc0d9e38754f2f93af"><td class="memItemLeft" align="right" valign="top"><a id="adf95d0d61c2aa5fc0d9e38754f2f93af"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>nextDebugInfo</b></td></tr>
<tr class="separator:adf95d0d61c2aa5fc0d9e38754f2f93af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbabc25dd2a8709d5f4e38a950c25c41"><td class="memItemLeft" align="right" valign="top"><a id="acbabc25dd2a8709d5f4e38a950c25c41"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>constantSpeedTimeout</b></td></tr>
<tr class="separator:acbabc25dd2a8709d5f4e38a950c25c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a809d0be68b60d92b843f3a5f25f74204"><td class="memItemLeft" align="right" valign="top"><a id="a809d0be68b60d92b843f3a5f25f74204"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>constantSpeedTarget</b></td></tr>
<tr class="separator:a809d0be68b60d92b843f3a5f25f74204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ca71b1ee027460e4151f2ef593baf9"><td class="memItemLeft" align="right" valign="top"><a id="aa9ca71b1ee027460e4151f2ef593baf9"></a>
<a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">stopMode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>runAtSpeedStopMode</b></td></tr>
<tr class="separator:aa9ca71b1ee027460e4151f2ef593baf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de8b352211e1152b5cf553ea4372848"><td class="memItemLeft" align="right" valign="top"><a id="a7de8b352211e1152b5cf553ea4372848"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>cycleInterval</b></td></tr>
<tr class="separator:a7de8b352211e1152b5cf553ea4372848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5274160aae09c46e478746f6b95b131"><td class="memItemLeft" align="right" valign="top"><a id="ac5274160aae09c46e478746f6b95b131"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>lastPos</b></td></tr>
<tr class="separator:ac5274160aae09c46e478746f6b95b131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17c4c496c75a6abe8cb2b0f394527a1"><td class="memItemLeft" align="right" valign="top"><a id="ab17c4c496c75a6abe8cb2b0f394527a1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>currentPos</b></td></tr>
<tr class="separator:ab17c4c496c75a6abe8cb2b0f394527a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791ea09944aa2d9bd0e8ecb68307f2ff"><td class="memItemLeft" align="right" valign="top"><a id="a791ea09944aa2d9bd0e8ecb68307f2ff"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>targetSpeed</b></td></tr>
<tr class="separator:a791ea09944aa2d9bd0e8ecb68307f2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a078039d08bb0e87ed45659b0acdbf15c"><td class="memItemLeft" align="right" valign="top"><a id="a078039d08bb0e87ed45659b0acdbf15c"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>targetPos</b></td></tr>
<tr class="separator:a078039d08bb0e87ed45659b0acdbf15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93a6e6e7535dd4233d6f8d97e226f92"><td class="memItemLeft" align="right" valign="top"><a id="ac93a6e6e7535dd4233d6f8d97e226f92"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>currentSpeed</b></td></tr>
<tr class="separator:ac93a6e6e7535dd4233d6f8d97e226f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2bf70d5efc68796d3309db1a0ebe3a7"><td class="memItemLeft" align="right" valign="top"><a id="ac2bf70d5efc68796d3309db1a0ebe3a7"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>outputPower</b></td></tr>
<tr class="separator:ac2bf70d5efc68796d3309db1a0ebe3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d5126153b975f04c4793c8e156a3c3"><td class="memItemLeft" align="right" valign="top"><a id="aa3d5126153b975f04c4793c8e156a3c3"></a>
PID *&#160;</td><td class="memItemRight" valign="bottom"><b>speedPID</b></td></tr>
<tr class="separator:aa3d5126153b975f04c4793c8e156a3c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae16641a78f61292aa74504dffb69abe"><td class="memItemLeft" align="right" valign="top"><a id="aae16641a78f61292aa74504dffb69abe"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>speedKp</b></td></tr>
<tr class="separator:aae16641a78f61292aa74504dffb69abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8fe68260ea89951ffee374650302183"><td class="memItemLeft" align="right" valign="top"><a id="ad8fe68260ea89951ffee374650302183"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>speedKi</b></td></tr>
<tr class="separator:ad8fe68260ea89951ffee374650302183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec169e4ca884f6fe00216d7a466a895"><td class="memItemLeft" align="right" valign="top"><a id="a7ec169e4ca884f6fe00216d7a466a895"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>speedKd</b></td></tr>
<tr class="separator:a7ec169e4ca884f6fe00216d7a466a895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c502e90dcc94a6e46c23869f6fc9aa6"><td class="memItemLeft" align="right" valign="top"><a id="a3c502e90dcc94a6e46c23869f6fc9aa6"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>minPos</b></td></tr>
<tr class="separator:a3c502e90dcc94a6e46c23869f6fc9aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5034fbe3b09eab58d74c4669181c2015"><td class="memItemLeft" align="right" valign="top"><a id="a5034fbe3b09eab58d74c4669181c2015"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>maxPos</b></td></tr>
<tr class="separator:a5034fbe3b09eab58d74c4669181c2015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9f8e49b8851fc03b57d267ccb1b2b9"><td class="memItemLeft" align="right" valign="top"><a id="a2b9f8e49b8851fc03b57d267ccb1b2b9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>usePositionLimits</b></td></tr>
<tr class="separator:a2b9f8e49b8851fc03b57d267ccb1b2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770ec8816d9e4fe5e4b484c591a8e79f"><td class="memItemLeft" align="right" valign="top"><a id="a770ec8816d9e4fe5e4b484c591a8e79f"></a>
PID *&#160;</td><td class="memItemRight" valign="bottom"><b>powerPID</b></td></tr>
<tr class="separator:a770ec8816d9e4fe5e4b484c591a8e79f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea5f371821e7201331fdda05384c4f9"><td class="memItemLeft" align="right" valign="top"><a id="a4ea5f371821e7201331fdda05384c4f9"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>powerKp</b></td></tr>
<tr class="separator:a4ea5f371821e7201331fdda05384c4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fca04d71f139a1dfdf3f07b287271c4"><td class="memItemLeft" align="right" valign="top"><a id="a7fca04d71f139a1dfdf3f07b287271c4"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>powerKi</b></td></tr>
<tr class="separator:a7fca04d71f139a1dfdf3f07b287271c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7924a825de25a7fa850ff29638d6512"><td class="memItemLeft" align="right" valign="top"><a id="ac7924a825de25a7fa850ff29638d6512"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>powerKd</b></td></tr>
<tr class="separator:ac7924a825de25a7fa850ff29638d6512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1264178585841286b9417685801e4a0"><td class="memItemLeft" align="right" valign="top"><a id="ab1264178585841286b9417685801e4a0"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>minSpeed</b></td></tr>
<tr class="separator:ab1264178585841286b9417685801e4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38499f0be22b3f42b52b98358d81d3ea"><td class="memItemLeft" align="right" valign="top"><a id="a38499f0be22b3f42b52b98358d81d3ea"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>maxSpeed</b></td></tr>
<tr class="separator:a38499f0be22b3f42b52b98358d81d3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57854c3ff102e96575254d2573ac0cf0"><td class="memItemLeft" align="right" valign="top"><a id="a57854c3ff102e96575254d2573ac0cf0"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>minPower</b></td></tr>
<tr class="separator:a57854c3ff102e96575254d2573ac0cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02636e964865588e7a6a8a5f21f93c3b"><td class="memItemLeft" align="right" valign="top"><a id="a02636e964865588e7a6a8a5f21f93c3b"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>maxPower</b></td></tr>
<tr class="separator:a02636e964865588e7a6a8a5f21f93c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852d13ea3834ba784d1997b44ef4baee"><td class="memItemLeft" align="right" valign="top"><a id="a852d13ea3834ba784d1997b44ef4baee"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>posTolerance</b></td></tr>
<tr class="separator:a852d13ea3834ba784d1997b44ef4baee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e8bc022b30acf9d65653cbdac947da"><td class="memItemLeft" align="right" valign="top"><a id="a97e8bc022b30acf9d65653cbdac947da"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>speedTolerance</b></td></tr>
<tr class="separator:a97e8bc022b30acf9d65653cbdac947da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39dc66ff461924c08c72d055c230dfaf"><td class="memItemLeft" align="right" valign="top"><a id="a39dc66ff461924c08c72d055c230dfaf"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>idleUpdatesCounter</b></td></tr>
<tr class="separator:a39dc66ff461924c08c72d055c230dfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa41cf2c89cc19d3549daa6f1c1388f"><td class="memItemLeft" align="right" valign="top"><a id="a6aa41cf2c89cc19d3549daa6f1c1388f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>maxPosStat</b></td></tr>
<tr class="separator:a6aa41cf2c89cc19d3549daa6f1c1388f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ef82acabb3dcb5423ecf1bc3fac520"><td class="memItemLeft" align="right" valign="top"><a id="a48ef82acabb3dcb5423ecf1bc3fac520"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>minPosStat</b></td></tr>
<tr class="separator:a48ef82acabb3dcb5423ecf1bc3fac520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a47107ca30bfa41cb8e65882ec687a"><td class="memItemLeft" align="right" valign="top"><a id="aa6a47107ca30bfa41cb8e65882ec687a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>maxSpeedStat</b></td></tr>
<tr class="separator:aa6a47107ca30bfa41cb8e65882ec687a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155bcbb22b388581c4ce091d8d561124"><td class="memItemLeft" align="right" valign="top"><a id="a155bcbb22b388581c4ce091d8d561124"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>minSpeedStat</b></td></tr>
<tr class="separator:a155bcbb22b388581c4ce091d8d561124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06760c71c8e9fb41a4d016d6a5410aae"><td class="memItemLeft" align="right" valign="top"><a id="a06760c71c8e9fb41a4d016d6a5410aae"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>maxPowerStat</b></td></tr>
<tr class="separator:a06760c71c8e9fb41a4d016d6a5410aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac51f30a0946dfbc885ee228cbb657c5c"><td class="memItemLeft" align="right" valign="top"><a id="ac51f30a0946dfbc885ee228cbb657c5c"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>minPowerStat</b></td></tr>
<tr class="separator:ac51f30a0946dfbc885ee228cbb657c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_class_q_p_i_d___object"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_q_p_i_d___object')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_q_p_i_d___object.html">QPID_Object</a></td></tr>
<tr class="memitem:aa75f813f6d8e3d30e93f711746f8df47 inherit pro_methods_class_q_p_i_d___object"><td class="memItemLeft" align="right" valign="top"><a id="aa75f813f6d8e3d30e93f711746f8df47"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_p_i_d___object.html#aa75f813f6d8e3d30e93f711746f8df47">QPID_Object</a> ()</td></tr>
<tr class="memdesc:aa75f813f6d8e3d30e93f711746f8df47 inherit pro_methods_class_q_p_i_d___object"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. Begins Serial with 115200 baud for logging and error reporting, if not done previously. <br /></td></tr>
<tr class="separator:aa75f813f6d8e3d30e93f711746f8df47 inherit pro_methods_class_q_p_i_d___object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a> objects bundles access to three hardware components, a motor driver, an position encoder, and end stop switches. Softwarewise it represents an advanced motor contoller that can autonomously perform various control tasks. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000021">Todo:</a></b></dt><dd>implement acceleration/deceleration ramps as an alternative to PID control </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ada7b31c4261c3df9fe96f2d090341076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada7b31c4261c3df9fe96f2d090341076">&#9670;&nbsp;</a></span>QPIDStates</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076">QPID_Unit::QPIDStates</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Symbolic names for <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a> states that determine a <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a>'s behavior. The state machine depicted belwo should give a rough idea, but still needs refinement. </p>
<div class="dotgraph">
<img src="dot_inline_dotgraph_1.png" alt="dot_inline_dotgraph_1.png" border="0" usemap="#dot_inline_dotgraph_1.map"/>
</div>
 <dl class="section see"><dt>See also</dt><dd><a class="el" href="class_q_p_i_d___unit.html#a928c69b8ab138c720d8fd33b6bfc29f8" title="Returns current state.">getState()</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a4f5f8a9edc96ab927e43817a126c06b3"></a>runningToTarget&#160;</td><td class="fielddoc"><p>running under PID control, will stop and switch state to targetReached when target reached </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a49b68bf63ca920ec1a2e89477a2ee4eb"></a>targetReached&#160;</td><td class="fielddoc"><p>motor stopped after target has been reached after runningToTarget </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a16f158acf096e86c36abab106903a903"></a>constantSpeed&#160;</td><td class="fielddoc"><p>running endlessly under PID control </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a5477963f71cd005822f97c48e916574b"></a>constantSpeedUntil&#160;</td><td class="fielddoc"><p>running under PID control until constantSpeedTimeout </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a7b13dfbf10901dc4dacb855668470bda"></a>constantSpeedTo&#160;</td><td class="fielddoc"><p>running under PID control until constantSpeedTarget reached </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a242985d0ec20bf9ef8cebaacf9b78bfd"></a>timeoutReached&#160;</td><td class="fielddoc"><p>stopped after constantSpeedUntil </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a7eae58e2350338f95361ae7d7ee0a2c2"></a>stoppedByEndStop&#160;</td><td class="fielddoc"><p>stopped by <a class="el" href="class_q_p_i_d___motor_driver.html#a9fe20c3d60ab8a53032c60b9aaf12392" title="(abstract) bring motor to abrupt stop (slow decay stop), implies setSpeed(0)">QPID_MotorDriver::brake()</a> after having met an endstop during any moving state different from ::toEndStop </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a3103a85901205f1a5e5f692a56da5b26"></a>stoppedByPositionLimit&#160;</td><td class="fielddoc"><p>stopped by <a class="el" href="class_q_p_i_d___motor_driver.html#a9fe20c3d60ab8a53032c60b9aaf12392" title="(abstract) bring motor to abrupt stop (slow decay stop), implies setSpeed(0)">QPID_MotorDriver::brake()</a> after running out of bounds set by setPositionLimits() </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076afa4f973c940625b75a6a44e81bef7f14"></a>toEndStop&#160;</td><td class="fielddoc"><p>running at constant (slow) speed until hitting an endstop </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076aa9e1f8b9834f492ff8cc5fe1afa110c5"></a>endStopReached&#160;</td><td class="fielddoc"><p>stopped by <a class="el" href="class_q_p_i_d___motor_driver.html#a9fe20c3d60ab8a53032c60b9aaf12392" title="(abstract) bring motor to abrupt stop (slow decay stop), implies setSpeed(0)">QPID_MotorDriver::brake()</a> as expected after hitting an EndStop during ::toEndStop state </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076ab830197e590b8db02e9ad745c511fd64"></a>calibrating&#160;</td><td class="fielddoc"><p>determine position of endstops (maxPos/minPos), maxSpeed, deadbands, and acceleration curves </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076ad97f32407e49f429c52c3e5b811263dd"></a>off&#160;</td><td class="fielddoc"><p>motor disabled, stopped and released by user or by timeout </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a5a9858054aa5994cf936a65f0620e637"></a>stopped&#160;</td><td class="fielddoc"><p>motor enabled, but stopped by user </p>
</td></tr>
<tr><td class="fieldname"><a id="ada7b31c4261c3df9fe96f2d090341076a454b0da016bdc607c3d4992d53be8094"></a>haltedOnError&#160;</td><td class="fielddoc"><p>stopped by controller due to emergency event </p>
</td></tr>
</table>

</div>
</div>
<a id="a8c6dd6dd1b2d41a5827c7715caaae881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c6dd6dd1b2d41a5827c7715caaae881">&#9670;&nbsp;</a></span>stopMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">QPID_Unit::stopMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Symbolic names for way to stop system in states with timeout. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8c6dd6dd1b2d41a5827c7715caaae881a7b94617328a73395daf3ac31b3b68990"></a>brake&#160;</td><td class="fielddoc"><p>will use <a class="el" href="class_q_p_i_d___motor_driver.html#a9fe20c3d60ab8a53032c60b9aaf12392" title="(abstract) bring motor to abrupt stop (slow decay stop), implies setSpeed(0)">QPID_MotorDriver::brake()</a> after timout has been reached </p>
</td></tr>
<tr><td class="fieldname"><a id="a8c6dd6dd1b2d41a5827c7715caaae881a004244e4b26a4206e3a3b992dc3929d3"></a>coast&#160;</td><td class="fielddoc"><p>will use <a class="el" href="class_q_p_i_d___motor_driver.html#ad1b4c9fa92814d13eec1d24254d5db4e" title="(abstract) cut power and let motor coast to a slow stop (fast decay stop), implies setSpeed(0)">QPID_MotorDriver::coast()</a> after timout has been reached </p>
</td></tr>
<tr><td class="fieldname"><a id="a8c6dd6dd1b2d41a5827c7715caaae881a5ef2e183369f73456a4195ccfdb1124f"></a>PIDcontrolled&#160;</td><td class="fielddoc"><p>will set targetSpeed to 0 and use PID to slow down system </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af0103b90a43df7d0153494b13694090c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0103b90a43df7d0153494b13694090c">&#9670;&nbsp;</a></span>processMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QPID_Unit::processMessage </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interprets messages specific for this class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>Pointer to message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if correct comamnd was found and executed</dd></dl>
<ul>
<li>0x00: overall length of message including this byte and the final checksum byte</li>
<li>0x01: destination, i.e. no. of <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a> and its subsystem which is being adressed.<ul>
<li>bits 0-3: <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a> no. This allows for <a class="el" href="class_q_p_i_d___unit.html" title="A QPID_Unit objects bundles access to three hardware components, a motor driver, an position encoder,...">QPID_Unit</a> systems with max. 16 QPID_Units</li>
<li>bits 4-6: subsystem (0 = main system; 1 = motor driver; 2 = encoder; 3 = endstop 1; 4 = endstop 2)</li>
<li>bit 7: reserved</li>
</ul>
</li>
<li>0x02: command; specific for each subsystem, no general meaning</li>
<li>0x03: command specific parameters start here</li>
<li>0xnn: checksum byte, nn should be length from 0x00 </li>
</ul>

<p>Reimplemented from <a class="el" href="class_q_p_i_d___object.html#a13db5cbff78397d6f11a98f7767935eb">QPID_Object</a>.</p>

</div>
</div>
<a id="af7df449da99c44e18c75f57054c6bb6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7df449da99c44e18c75f57054c6bb6b">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_q_p_i_d___motor_driver.html">QPID_MotorDriver</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_q_p_i_d___encoder.html">QPID_Encoder</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_q_p_i_d___endstop.html">QPID_Endstop</a> *&#160;</td>
          <td class="paramname"><em>es1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_q_p_i_d___endstop.html">QPID_Endstop</a> *&#160;</td>
          <td class="paramname"><em>es2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>cycleInterval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attaches the neccessary and optional hardware. Motor driver and encoder are a must, one or two endstops are optional. In setups with only one endstop, you <em>must</em> setup it as es1. Should this not fit the directional setup (es1 is expected to be at a low encoder position, i.e. to be reached by negative motor movement) reverse your setup accordingly. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>how to reverse? Change polarization of encoder or motor; by software: implement PID.SetControllerDirection() </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>motor driver object (instantiated and fully initialized) </td></tr>
    <tr><td class="paramname">e</td><td>encoder object (instantiated and fully initialized) </td></tr>
    <tr><td class="paramname">es1</td><td>First 'lower' endstop. 'Lower' means this endstop is at a lower encoder position and will be hit if running in a negative direction. Must be used in setups with only one endstop. Use NULL if not used, a dummy (always off) endstop will be used then. </td></tr>
    <tr><td class="paramname">es2</td><td>Second 'higher' endstop (optional). 'Higher' means this endstop is at a higher encoder position and will be hit if running in a positive direction. Use this only in setups with two endstops. Use NULL if not used, a dummy (always off) endstop will be used then. </td></tr>
    <tr><td class="paramname">ci</td><td>Cycle interval in milliseconds. Used as interval for speed measurement and PID updates. Make sure that the interval is short enough for the reactivity you need, but long enough for speed measurement to work with enough precision, as it is based on the number of encoder ticks per interval. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a816e55daefaebd6d4fbd16a4c10b9032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a816e55daefaebd6d4fbd16a4c10b9032">&#9670;&nbsp;</a></span>configureSpeedPID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::configureSpeedPID </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>POn</em> = <code>P_ON_E</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set tuning parameters for speed PID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td></td></tr>
    <tr><td class="paramname">Ki</td><td></td></tr>
    <tr><td class="paramname">Kd</td><td></td></tr>
    <tr><td class="paramname">POn</td><td>P_ON_E for Proportional on error (default) or P_ON_M for Proportional on Measurement. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a href="http://brettbeauregard.com/blog/2017/06/proportional-on-measurement-the-code/">http://brettbeauregard.com/blog/2017/06/proportional-on-measurement-the-code/</a> </dd></dl>

</div>
</div>
<a id="a9e525da8a103938555042db78d20ca5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e525da8a103938555042db78d20ca5a">&#9670;&nbsp;</a></span>configurePowerPID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::configurePowerPID </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Kd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>POn</em> = <code>P_ON_E</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set tuning parameters for power PID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td></td></tr>
    <tr><td class="paramname">Ki</td><td></td></tr>
    <tr><td class="paramname">Kd</td><td></td></tr>
    <tr><td class="paramname">POn</td><td>P_ON_E for Proportional on error (default) or P_ON_M for Proportional on Measurement. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a href="http://brettbeauregard.com/blog/2017/06/proportional-on-measurement-the-code/">http://brettbeauregard.com/blog/2017/06/proportional-on-measurement-the-code/</a> </dd></dl>

</div>
</div>
<a id="a4236d08d0eac854b883aecac41a19f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4236d08d0eac854b883aecac41a19f6b">&#9670;&nbsp;</a></span>configurePositionLimits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::configurePositionLimits </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set position limits and enable position checking if both values are different, disable if both are the same. </p>
<p>If enabled, the limits will be used (a) as input limits for <a class="el" href="class_q_p_i_d___unit.html#a63fdc4e4df623265871fb62f99bc6990" title="Make motor run to target position.">runTo()</a> to prevent targets that are out of bounds of the system, and (b) as position limits or 'virtal endstops' in constant speed states to prevent the system from running out of bounds.</p>
<p>Position checking is disabled by default. Can be disabled by the user by setting both to the same value (e.g. 0).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>The smallest acceptable position </td></tr>
    <tr><td class="paramname">max</td><td>The biggest acceptable position </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62822c0086bd5c0cba47c23850d04869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62822c0086bd5c0cba47c23850d04869">&#9670;&nbsp;</a></span>configureSpeedLimits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::configureSpeedLimits </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set speed limits. Will be used to limit the speedPID's output, which is fed into the powerPID. </p>
<p>Both values should be determined empirically as they will depend on many parameters of your setup (type of motor, motor gears, voltage, friction and inertia, encoder resolution etc. pp.) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>The smallest acceptable speed, defined as encoder clicks per cycleInterval. </td></tr>
    <tr><td class="paramname">max</td><td>The biggest acceptable speed, defined as encoder clicks per cycleInterval. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3add6e817c50b414d2973464f7651736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3add6e817c50b414d2973464f7651736">&#9670;&nbsp;</a></span>configurePowerLimits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::configurePowerLimits </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set power limits. Will be used to limit the powerPID's output, which is fed into the motor driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>The smallest acceptable power. Usually -255 for PWM motors. </td></tr>
    <tr><td class="paramname">max</td><td>The biggest acceptable power. Usually 255 for PWM motors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3906de3352775659e02f73184b1a07a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3906de3352775659e02f73184b1a07a">&#9670;&nbsp;</a></span>configureTolerances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::configureTolerances </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set tolerances used in <a class="el" href="class_q_p_i_d___unit.html#a63fdc4e4df623265871fb62f99bc6990" title="Make motor run to target position.">runTo()</a> to determine if a positional target has been reached. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>max allowable distance between target and current position </td></tr>
    <tr><td class="paramname">speed</td><td>max speed at target </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63fdc4e4df623265871fb62f99bc6990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63fdc4e4df623265871fb62f99bc6990">&#9670;&nbsp;</a></span>runTo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::runTo </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make motor run to target position. </p>
<p>Uses two PIDs for control, one for speed and one for power. PID control will take care of acceleration at the beginning and deceleration at the target. <a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6" title="Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible,...">QPID_Unit::update()</a> needs to be called repeatedly as often as possible to actually move the system.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>Encoder position at which to stop. If enabled, will be checked against and constrained by limits set with <a class="el" href="class_q_p_i_d___unit.html#a4236d08d0eac854b883aecac41a19f6b" title="Set position limits and enable position checking if both values are different, disable if both are th...">configurePositionLimits()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000016">Todo:</a></b></dt><dd>(partly done) At the moment, no checks are implemented for <del>valid positions</del>, configured PIDs etc. </dd></dl>

</div>
</div>
<a id="ab9cb82de6e7e69a834002948a1e66107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9cb82de6e7e69a834002948a1e66107">&#9670;&nbsp;</a></span>runDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::runDistance </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make motor run a given distance. </p>
<p>Uses two PIDs for control, one for speed and one for power. PID control will take care of acceleration at the beginning and deceleration at the end. <a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6" title="Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible,...">QPID_Unit::update()</a> needs to be called repeatedly as often as possible to actually move the system.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>encoder ticks after which to stop, sign indicates direction.If enabled, will be checked against and constrained by limits set with <a class="el" href="class_q_p_i_d___unit.html#a4236d08d0eac854b883aecac41a19f6b" title="Set position limits and enable position checking if both values are different, disable if both are th...">configurePositionLimits()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a60f0940dfad98d9e07e087f41e85add1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60f0940dfad98d9e07e087f41e85add1">&#9670;&nbsp;</a></span>runAtSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::runAtSpeed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make motor run at constant speed until told otherwise. Uses only power PID for control, as the speed is fixed. PID control should take care of acceleration at the beginning. <a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6" title="Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible,...">QPID_Unit::update()</a> needs to be called repeatedly as often as possible to actually move the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>Well, surprise, the speed to be run at </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000017">Todo:</a></b></dt><dd><p class="startdd">At the moment, no checks are implemented for valid positions, configured PIDs etc. </p>
<p class="enddd">Implement endstops!!! </p>
</dd></dl>

</div>
</div>
<a id="a0bdc1b6fd295be57c9cb6ffccb981a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bdc1b6fd295be57c9cb6ffccb981a83">&#9670;&nbsp;</a></span>runAtSpeedUntil()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::runAtSpeedUntil </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">stopMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make motor run at constant speed until given timeout is reached. Uses only power PID for control, as the speed is fixed. PID control should take care of acceleration at the beginning. <a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6" title="Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible,...">QPID_Unit::update()</a> needs to be called repeatedly as often as possible to actually move the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>The speed to be run at </td></tr>
    <tr><td class="paramname">timeout</td><td>Time in millis() at which to stop </td></tr>
    <tr><td class="paramname">mode</td><td>Way of stopping the system at timeout. One of QPID::brake, <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881a004244e4b26a4206e3a3b992dc3929d3" title="will use QPID_MotorDriver::coast() after timout has been reached">QPID_Unit::coast</a> and <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881a5ef2e183369f73456a4195ccfdb1124f" title="will set targetSpeed to 0 and use PID to slow down system">QPID_Unit::PIDcontrolled</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000018">Todo:</a></b></dt><dd><p class="startdd">At the moment, no checks are implemented for valid positions, configured PIDs etc. </p>
<p class="enddd">Implement endstops!!! </p>
</dd></dl>

</div>
</div>
<a id="aaecbaf6967a11b84dbfc0fd957b0658f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaecbaf6967a11b84dbfc0fd957b0658f">&#9670;&nbsp;</a></span>runAtSpeedFor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::runAtSpeedFor </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881">stopMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make motor run at constant speed for a given number of millis. Uses only power PID for control, as the speed is fixed. PID control should take care of acceleration at the beginning. <a class="el" href="class_q_p_i_d___unit.html#aadbecce3e6e4cd2203613241b83284e6" title="Main activity loop. Updates speed measurement, PIDs etc. Call this as often as possible,...">QPID_Unit::update()</a> needs to be called repeatedly as often as possible to actually move the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>The speed to be run at </td></tr>
    <tr><td class="paramname">duration</td><td>Time in millis() for which to run </td></tr>
    <tr><td class="paramname">mode</td><td>Way of stopping the system at timeout. One of <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881a7b94617328a73395daf3ac31b3b68990" title="will use QPID_MotorDriver::brake() after timout has been reached">QPID_Unit::brake</a>, <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881a004244e4b26a4206e3a3b992dc3929d3" title="will use QPID_MotorDriver::coast() after timout has been reached">QPID_Unit::coast</a> and <a class="el" href="class_q_p_i_d___unit.html#a8c6dd6dd1b2d41a5827c7715caaae881a5ef2e183369f73456a4195ccfdb1124f" title="will set targetSpeed to 0 and use PID to slow down system">QPID_Unit::PIDcontrolled</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000019">Todo:</a></b></dt><dd><p class="startdd">(partly done) At the moment, no checks are implemented for valid positions, configured PIDs etc. </p>
<p class="enddd">(done) Implement endstops!!! </p>
</dd></dl>

</div>
</div>
<a id="af7573a741c282636e0339410e9956f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7573a741c282636e0339410e9956f4a">&#9670;&nbsp;</a></span>calibrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::calibrate </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>findEndstops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>findMaxSpeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>findDeadbands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>findAccelerationCurve</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do a test run to find system specific parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">findEndstops</td><td>If true, find position of all endstops (one or two). You can use these in minPos and maxPos accordingly. </td></tr>
    <tr><td class="paramname">findMaxSpeed</td><td>If true, will determine maximum attainable speed. Use <a class="el" href="class_q_p_i_d___unit.html#a4236d08d0eac854b883aecac41a19f6b" title="Set position limits and enable position checking if both values are different, disable if both are th...">configurePositionLimits()</a> to prevent crashes. </td></tr>
    <tr><td class="paramname">findDeadbands</td><td>If true, will determine the mininum power needed to making the motor move from a stopped state, and to keep it moving (see <a class="el" href="class_q_p_i_d___unit.html#aa64f023003ad54493aaaf5473f40f0da">setKick()</a>) </td></tr>
    <tr><td class="paramname">findAccelerationCurve</td><td>The relation of power fed to the motor and actual speed is usually not linear. This calibration will determine the relation empirically, so that it can be used to help the powerPID in adjusting speed as demanded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd><p class="startdd">Not implemented yet. </p>
<p class="interdd">Where are these values saved? </p>
<p class="enddd">Make options an enum insteat of booleans? </p>
</dd></dl>

</div>
</div>
<a id="aa64f023003ad54493aaaf5473f40f0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa64f023003ad54493aaaf5473f40f0da">&#9670;&nbsp;</a></span>setKick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::setKick </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>thresholdSpeed</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Due to inertia and friction, DC motors don't start to run at very low speeds, they need a "kick" to get going. After that they'll continue to run even at lower speeds. By setting a kick treshold bigger than 0, power to the motor will be increased to this threshold, if <em>all</em> of the following conditions are met: </p>
<ul>
<li>(1) power demanded from the motor is different from zero</li>
<li>(2) power demanded from the motor is below the threshold;</li>
<li>(3) current speed is lower than or equal to the threshold speed, and <dl class="section see"><dt>See also</dt><dd><a class="el" href="class_q_p_i_d___unit.html#a2c7c97636db19a4a9f36027f5b269ae6" title="Disables kicking.">disableKick()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threshold</td><td>Minimum power to get the motor going from a stopped state (as defined by thresholdSpeed) </td></tr>
    <tr><td class="paramname">thresholdSpeed</td><td>Speeds lower than or equal to this value will be considered as stopped state that needs a kick at lower speeds. Start with 0 and increase if needed. </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="a2c7c97636db19a4a9f36027f5b269ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c7c97636db19a4a9f36027f5b269ae6">&#9670;&nbsp;</a></span>disableKick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QPID_Unit::disableKick </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables kicking. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_q_p_i_d___unit.html#aa64f023003ad54493aaaf5473f40f0da" title="Due to inertia and friction, DC motors don&#39;t start to run at very low speeds, they need a &quot;kick&quot; to g...">setKick()</a> </dd></dl>

</div>
</div>
<a id="a928c69b8ab138c720d8fd33b6bfc29f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928c69b8ab138c720d8fd33b6bfc29f8">&#9670;&nbsp;</a></span>getState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076">QPID_Unit::QPIDStates</a> QPID_Unit::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns current state. </p>
<dl class="section return"><dt>Returns</dt><dd>see <a class="el" href="class_q_p_i_d___unit.html#ada7b31c4261c3df9fe96f2d090341076" title="Symbolic names for QPID_Unit states that determine a QPID_Unit&#39;s behavior. The state machine depicted...">QPID_Unit::QPIDStates</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a44c9a0f22100c049d6098da21b2f5d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44c9a0f22100c049d6098da21b2f5d88">&#9670;&nbsp;</a></span>kickThreshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double QPID_Unit::kickThreshold</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum power to get the motor going from stopped position. </p>
<dl class="section see"><dt>See also</dt><dd>kicked() </dd></dl>

</div>
</div>
<a id="ac2c20357a541493928841e990ad8c72c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c20357a541493928841e990ad8c72c">&#9670;&nbsp;</a></span>kickThresholdSpeed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double QPID_Unit::kickThresholdSpeed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Speeds lower than or equal to this value will be considered as stopped motor that needs a kick at lower speeds. Start with 0 and increase if needed. </p>
<dl class="section see"><dt>See also</dt><dd>kicked() </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_q_p_i_d___unit_8h_source.html">QPID_Unit.h</a></li>
<li><a class="el" href="_q_p_i_d___unit_8cpp.html">QPID_Unit.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_q_p_i_d___unit.html">QPID_Unit</a></li>
    <li class="footer">Generated on Sun May 23 2021 22:23:43 for QPIDfirmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
